<div class="fix-action-dialog">
	<h1 mat-dialog-title>{{content.title}}</h1>
	<div class="spacer"></div>
	<div mat-dialog-content fxLayout="column">
		<div>{{content.description}}</div>
		<form #form="ngForm" novalidate fxLayout="column" fxLayoutAlign="space-between">
			<mat-form-field class="form-field">
				<mat-label>メールアドレス</mat-label>
				<input matInput autocomplete="off" type="email" email placeholder="user@name" [(ngModel)]="content.username" #username="ngModel" name="username" required minlength="3" maxlength="255" (blur)="toNickname()">
				<mat-error *ngIf="username.errors?.email;">有効なメールアドレスで</mat-error>
				<mat-error *ngIf="username.errors?.required;">入力してください</mat-error>
				<mat-error *ngIf="username.errors?.maxlength">長すぎます</mat-error>
				<mat-error *ngIf="username.errors?.minlength">短すぎます</mat-error>
			</mat-form-field>

			<mat-form-field class="form-field">
				<mat-label>お名前</mat-label>
				<input matInput autocomplete="off" type="text" placeholder="Nickname" [(ngModel)]="content.nickname" #nickname="ngModel" name="nickname" required minlength="3" maxlength="100">
				<mat-hint>3文字以上100文字まで</mat-hint>
				<mat-error *ngIf="nickname.errors?.required;">入力してください</mat-error>
				<mat-error *ngIf="nickname.errors?.maxlength">長すぎます</mat-error>
				<mat-error *ngIf="nickname.errors?.minlength">短すぎます</mat-error>
			</mat-form-field>

			<mat-form-field class="form-field">
				<mat-label>パスワード</mat-label>
				<input matInput type="password" placeholder="Password" [(ngModel)]="content.password" #password="ngModel" name="password" required minlength="6" maxlength="1000">
				<mat-hint>6文字以上1000文字まで</mat-hint>
				<mat-error *ngIf="password.errors?.required;">入力してください</mat-error>
				<mat-error *ngIf="password.errors?.maxlength">長すぎます</mat-error>
				<mat-error *ngIf="password.errors?.minlength">短すぎます</mat-error>
			</mat-form-field>

			<mat-form-field class="form-field">
				<mat-label>確認のためパスワードを再度ご入力ください。</mat-label>
				<input matInput type="password" placeholder="Confirm Password" [(ngModel)]="content.confirm_password" #confirm_password="ngModel" name="confirm_password" required [validateEquals]="password">
				<mat-hint>6文字以上1000文字まで</mat-hint>
				<mat-error *ngIf="confirm_password.errors?.required;">確認用パスワードを入力してください</mat-error>
				<mat-error *ngIf="confirm_password.errors?.validateEquals">確認用パスワードが一致しません</mat-error>
			</mat-form-field>

			<ng-container>
				{{completeMessage}}
			</ng-container>
		</form>
	</div>

	<div class="spacer"></div>

	<div mat-dialog-actions style="margin:6px;" fxLayout="row" fxLayoutAlign="space-around">
		<button mat-raised-button color="accent" [disabled]="form.invalid || progress" (click)="onAccept()">登録</button>
		<button mat-stroked-button color="warn" [disabled]="progress" mat-dialog-close="">キャンセル</button>
	</div>
</div>
